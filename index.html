<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <title>Portfolio | Lisa Voronov</title>
    <style>
        @font-face {
            font-family: 'PP Neue Montreal';
            src: url('PPNeueMontreal-Regular.woff2') format('woff2');
            font-weight: normal;
            font-style: normal;
        }

        body { 
            margin: 0; 
            padding: 0;
            display: flex; 
            height: 100vh; 
            width: 100vw;
            overflow: hidden;
            background: #0D0D0D; 
            font-family: 'PP Neue Montreal', sans-serif; 
        }

        .column { 
            width: 50%; 
            height: 100vh; 
            overflow-y: auto; 
            box-sizing: border-box;
            scroll-snap-type: y proximity;
            scrollbar-width: none;
            -ms-overflow-style: none;
            /* Оптимизация для плавного скролла */
            will-change: scroll-position;
        }

        .column::-webkit-scrollbar { 
            display: none; 
        } 

        .item { 
            width: 100%; 
            height: 100vh; 
            display: flex;
            align-items: center;
            justify-content: center;
            scroll-snap-align: start;
            background: #0D0D0D; /* Фон, пока грузится фото */
        }

        .item img { 
            width: 100%; 
            height: 100vh; 
            object-fit: cover; 
            display: block; 
            transition: opacity 0.5s ease; 
        }

        .item a {
            display: block;
            width: 100%;
            height: 100%;
        }

        .item a:hover img {
            opacity: 0.6;
        }
    </style>
</head>
<body>

    <div id="left" class="column">
        <div class="item"><img src="work1.png" loading="eager" decoding="async"></div>
        <div class="item"><a href="project1.html"><img src="work3.png" loading="eager" decoding="async"></a></div>
        <div class="item"><a href="project2.html"><img src="work5.png" loading="lazy" decoding="async"></a></div>
        <div class="item"><a href="project3.html"><img src="work7.png" loading="lazy" decoding="async"></a></div>
        <div class="item"><a href="project4.html"><img src="work9.png" loading="lazy" decoding="async"></a></div>
        <div class="item"><a href="project5.html"><img src="work11.png" loading="lazy" decoding="async"></a></div>
        <div class="item"><a href="project6.html"><img src="work13.png" loading="lazy" decoding="async"></a></div>
        <div class="item"><a href="project7.html"><img src="work15.png" loading="lazy" decoding="async"></a></div>
    </div>

    <div id="right" class="column">
        <div class="item"><a href="project7.html"><img src="work16.png" loading="lazy" decoding="async"></a></div>
        <div class="item"><a href="project6.html"><img src="work14.png" loading="lazy" decoding="async"></a></div>
        <div class="item"><a href="project5.html"><img src="work12.png" loading="lazy" decoding="async"></a></div>
        <div class="item"><a href="project4.html"><img src="work10.png" loading="lazy" decoding="async"></a></div>
        <div class="item"><a href="project3.html"><img src="work8.png" loading="lazy" decoding="async"></a></div>
        <div class="item"><a href="project2.html"><img src="work6.png" loading="lazy" decoding="async"></a></div>
        <div class="item"><a href="project1.html"><img src="work4.png" loading="eager" decoding="async"></a></div>
        <div class="item"><img src="work2.png" loading="eager" decoding="async"></div>
    </div>

    <script>
        const left = document.getElementById('left');
        const right = document.getElementById('right');
        let activeColumn = null;
        let ticking = false;

        left.onmouseenter = () => { activeColumn = 'left'; };
        right.onmouseenter = () => { activeColumn = 'right'; };

        function syncScroll(e) {
            if (!ticking) {
                // Используем requestAnimationFrame для плавной синхронизации (60fps)
                window.requestAnimationFrame(() => {
                    const source = e.target;
                    const target = (source === left) ? right : left;
                    
                    if (activeColumn === source.id) {
                        const maxSource = source.scrollHeight - source.clientHeight;
                        const maxTarget = target.scrollHeight - target.clientHeight;
                        const percentage = source.scrollTop / maxSource;
                        
                        target.scrollTop = maxTarget - (percentage * maxTarget);
                    }
                    ticking = false;
                });
                ticking = true;
            }
        }

        left.addEventListener('scroll', syncScroll, { passive: true });
        right.addEventListener('scroll', syncScroll, { passive: true });

        window.onload = () => {
            right.scrollTop = right.scrollHeight;
        };
    </script>
</body>
</html>
